# WARNING: it is CRITICAL that this file & directory are NOT accessible directly via a web browser!
# https://nette.org/security-warning

parameters:


php:
	date.timezone: Europe/Prague

services:
	# Cache storage for API responses
	cache.storage: Nette\Caching\Storages\FileStorage(%tempDir%/cache)
	# router: App\RouterFactory::createRouter  # Disabled - using Apitte attribute-based routing instead
	# tools: LuRy\Tools\Tools  # Temporarily disabled - private repository

	# PSR-7 Response Factory for middleware
	- Contributte\Psr7\Psr7ResponseFactory

	# HTTP Client Service
	- App\Services\HttpClientService

	# Business Services
	- App\Services\SvatkyService
	- App\Services\PocasiService
	- App\Services\HoroskopyService
	- App\Services\TvProgramService
	- App\Services\MistnostService
	- App\Services\CnbKurzyService
	- App\Services\AresService
	- App\Services\RuianService
	- App\Services\ZasilkovnaService
	- App\Services\JokeService
	- App\Services\CatFactsService
	- App\Services\DogService
	- App\Services\AdviceService
	- App\Services\CryptoService
	- App\Services\QuotesService
	- App\Services\ChuckNorrisService
	- App\Services\NumbersService
	- App\Services\CountriesService
	- App\Services\BoredService
	- App\Services\ISSService
	- App\Services\TriviaService
	- App\Services\UUIDService
	- App\Services\FoxService
	- App\Services\VatService
	- App\Services\QrCodeService
	- App\Services\UrlShortenerService
	- App\Services\HashService
	- App\Services\NewsRssService
	- App\Services\ImageService

	# Middlewares
	- App\Middlewares\RateLimitMiddleware

	# API Controllers
	-
		factory: App\Controllers\SvatkyController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\PocasiController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\HoroskopyController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\TvController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\MistnostController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\CnbController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\AresController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\RuianController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\ZasilkovnaController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\JokeController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\CatFactsController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\DogController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\AdviceController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\CryptoController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\QuotesController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\ChuckNorrisController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\NumbersController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\CountriesController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\BoredController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\ISSController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\TriviaController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\UUIDController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\FoxController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\VatController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\QrCodeController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\UrlShortenerController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\HashController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\NewsRssController
		tags: [apitte.core.controller]
	-
		factory: App\Controllers\ImageController
		tags: [apitte.core.controller]

extensions:
	# Apitte extensions (contributte/apitte ^0.12)
	api: Apitte\Core\DI\ApiExtension
	middlewares: Contributte\Middlewares\DI\MiddlewaresExtension

api:
	debug: %debugMode%
	catchException: true
	plugins:
		Apitte\Core\DI\Plugin\CoreSchemaPlugin: []
		Apitte\Middlewares\DI\MiddlewaresPlugin:
			tracy: %debugMode%
		Apitte\OpenApi\DI\OpenApiPlugin:
			definition:
				openapi: "3.0.2"
				info:
					title: "pLBOT API"
					version: "2.0"
					description: "Modernizovan√© API pro IRC bota pLBOT"

# Middlewares are configured via Apitte plugins now
# Rate limiting middleware is registered directly in services
